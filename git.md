# Git åˆ†æ”¯å·¥ä½œåŸç†ï¼šå¹¶åˆ—åˆ†æ”¯ä¸æ ‘çŠ¶åˆ†æ”¯

## å‡è®¾åœºæ™¯ï¼šå¼€å‘ä¸€ä¸ªèŠå¤©åº”ç”¨
1. é¡¹ç›®åˆ†ä¸º **å‰ç«¯** å’Œ **åç«¯**ã€‚
2. ä¸»åˆ†æ”¯æ˜¯ `main`ï¼Œç”¨æ¥ä¿å­˜ç¨³å®šã€å¯äº¤ä»˜çš„ä»£ç ã€‚
3. å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ çš„åŒå­¦è´Ÿè´£å‰ç«¯ï¼ˆ`frontend` åˆ†æ”¯ï¼‰ï¼Œä½ è´Ÿè´£åç«¯ï¼ˆ`backend` åˆ†æ”¯ï¼‰ã€‚

---

## å¹¶åˆ—åˆ†æ”¯å·¥ä½œåŸç†

### **1. åˆ›å»ºåˆ†æ”¯**
- ä½ çš„åŒå­¦ä» `main` åˆ›å»ºäº† `frontend` åˆ†æ”¯ï¼Œä½ ä» `main` åˆ›å»ºäº† `backend` åˆ†æ”¯ï¼š
  ```bash
  git checkout -b frontend
  git checkout -b backend
  ```

### **2. åˆ†æ”¯å¼€å‘**
- **ä½ çš„åŒå­¦**ï¼šåœ¨ `frontend` åˆ†æ”¯ä¸­å¼€å‘å‰ç«¯ç•Œé¢ï¼Œæäº¤ä»£ç ã€‚
  ```bash
  git add .
  git commit -m "Add chat interface"
  ```

- **ä½ **ï¼šåœ¨ `backend` åˆ†æ”¯ä¸­å¼€å‘åç«¯ APIï¼Œæäº¤ä»£ç ã€‚
  ```bash
  git add .
  git commit -m "Add chat API"
  ```

### **3. åˆå¹¶åˆ° `main`**
- å¼€å‘å®Œæˆåï¼Œåˆ†åˆ«å°† `frontend` å’Œ `backend` åˆå¹¶åˆ° `main`ï¼š
  ```bash
  # åˆå¹¶ backend
  git checkout main
  git merge backend

  # åˆå¹¶ frontend
  git merge frontend
  ```

### **4. å†å²è®°å½•**
- åˆå¹¶å®Œæˆåï¼Œ`main` çš„æäº¤å†å²çœ‹èµ·æ¥åƒè¿™æ ·ï¼ˆå¹³è¡Œçš„åˆ†æ”¯ï¼‰ï¼š
  ```
  A - Initial commit
  |\
  | B - Add chat API (backend)
  |/
  C - Add chat interface (frontend)
  ```

---

## æ ‘çŠ¶åˆ†æ”¯å·¥ä½œåŸç†

### **1. åˆ›å»ºåˆ†æ”¯**
- å’Œå¹¶åˆ—åˆ†æ”¯ä¸€æ ·ï¼Œä½ å’ŒåŒå­¦ä» `main` åˆ†åˆ«åˆ›å»ºäº† `frontend` å’Œ `backend` åˆ†æ”¯ã€‚

### **2. åˆ†æ”¯å¼€å‘**
- **ä½ çš„åŒå­¦**ï¼šåœ¨ `frontend` ä¸­å¼€å‘å‰ç«¯ç•Œé¢ä¹‹å‰ï¼Œå…ˆåŒæ­¥ `main` çš„æœ€æ–°ä»£ç ï¼š
  ```bash
  git checkout frontend
  git rebase main
  git add .
  git commit -m "Add chat interface"
  ```

- **ä½ **ï¼šåœ¨ `backend` ä¸­å¼€å‘åç«¯ API ä¹‹å‰ï¼Œä¹ŸåŒæ­¥ `main` çš„æœ€æ–°ä»£ç ï¼š
  ```bash
  git checkout backend
  git rebase main
  git add .
  git commit -m "Add chat API"
  ```

### **3. åŒæ­¥ `main` æ›´æ–°**
- å¦‚æœ `main` åœ¨å¼€å‘æœŸé—´æœ‰æ›´æ–°ï¼ˆä¾‹å¦‚ä¿®å¤äº†ä¸€ä¸ª Bugï¼‰ï¼Œä½ å’ŒåŒå­¦éœ€è¦åŒæ­¥åˆ°è‡ªå·±çš„åˆ†æ”¯ï¼š
  ```bash
  git checkout backend
  git rebase main
  ```

### **4. åˆå¹¶åˆ° `main`**
- å®ŒæˆåŠŸèƒ½åï¼Œé€šè¿‡ Pull Request æˆ–ç›´æ¥åˆå¹¶ï¼Œæäº¤åˆ° `main`ï¼š
  ```bash
  git checkout main
  git merge backend
  git merge frontend
  ```

### **5. å†å²è®°å½•**
- åˆå¹¶å®Œæˆåï¼Œ`main` çš„æäº¤å†å²çœ‹èµ·æ¥æ›´åƒæ ‘çŠ¶ç»“æ„ï¼š
  ```
  A - Initial commit
  |
  B - Add chat API (backend)
  |
  C - Add chat interface (frontend)
  ```

---

## å¯¹æ¯”æ€»ç»“

### **å¹¶åˆ—åˆ†æ”¯**
- **ä¼˜ç‚¹**ï¼šåˆ†æ”¯äº’ç›¸ç‹¬ç«‹ï¼Œå¼€å‘è€…ä¹‹é—´æ— éœ€é¢‘ç¹æ²Ÿé€šã€‚
- **ç¼ºç‚¹**ï¼šå¦‚æœ `main` æ›´æ–°ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨å¤„ç†å†²çªã€‚

### **æ ‘çŠ¶åˆ†æ”¯**
- **ä¼˜ç‚¹**ï¼šå¼€å‘å†å²æ¸…æ™°ï¼Œåˆ†æ”¯ä»£ç æ€»æ˜¯åŸºäº `main` æœ€æ–°çŠ¶æ€ã€‚
- **ç¼ºç‚¹**ï¼šéœ€è¦é¢‘ç¹åŒæ­¥ `main` çš„æ›´æ–°ï¼Œå¢åŠ æ“ä½œå¤æ‚åº¦ã€‚

### Git å‘½ä»¤è§£é‡Šå’Œåº”ç”¨

---

### **1. `-u` é€‰é¡¹**
`-u` æ˜¯ `git push` å‘½ä»¤çš„é€‰é¡¹ï¼Œè¡¨ç¤º**è®¾ç½®å½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¹‹é—´çš„è·Ÿè¸ªå…³ç³»**ã€‚

#### **ç”¨æ³•ï¼š**
```bash
git push -u origin <branch-name>
```

#### **ä½œç”¨ï¼š**
1. æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ï¼Œå¹¶å»ºç«‹è·Ÿè¸ªå…³ç³»ã€‚
2. ä»¥åå¯ä»¥ç›´æ¥ä½¿ç”¨ `git push` å’Œ `git pull`ï¼Œè€Œä¸ç”¨æ¯æ¬¡éƒ½æŒ‡å®šè¿œç¨‹åˆ†æ”¯ã€‚

#### **ç¤ºä¾‹ï¼š**
```bash
# åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯
git branch feature

# åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout feature

# æ¨é€å¹¶å»ºç«‹è·Ÿè¸ªå…³ç³»
git push -u origin feature
```

è¾“å‡ºï¼š
```plaintext
Branch 'feature' set up to track remote branch 'feature' from 'origin'.
```

#### **ç»“æœï¼š**
- ä»¥åç›´æ¥ç”¨ `git push` å°±ä¼šæŠŠ `feature` æ¨é€åˆ°è¿œç¨‹ `origin/feature`ã€‚

---

### **2. `-b` é€‰é¡¹**
`-b` æ˜¯ `git checkout` æˆ– `git switch` çš„é€‰é¡¹ï¼Œç”¨æ¥**åˆ›å»ºå¹¶åˆ‡æ¢åˆ°ä¸€ä¸ªæ–°åˆ†æ”¯**ã€‚

#### **ç”¨æ³•ï¼š**
```bash
git checkout -b <branch-name>
```

#### **ä½œç”¨ï¼š**
1. åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚
2. è‡ªåŠ¨åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚

#### **ç¤ºä¾‹ï¼š**
```bash
# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ dev
git checkout -b dev
```

#### **ç»“æœï¼š**
- åˆ†æ”¯ `dev` è¢«åˆ›å»ºã€‚
- å½“å‰å¤„äº `dev` åˆ†æ”¯ã€‚

#### **ç­‰ä»·å‘½ä»¤ï¼š**
```bash
git branch dev
git checkout dev
```

---

### **3. `git checkout`**
`git checkout` æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½å‘½ä»¤ï¼Œå¯ä»¥ç”¨æ¥ï¼š
1. åˆ‡æ¢åˆ†æ”¯ã€‚
2. æ¢å¤æ–‡ä»¶åˆ°æŸä¸ªç‰¹å®šç‰ˆæœ¬ã€‚

#### **ç”¨æ³• 1: åˆ‡æ¢åˆ†æ”¯**
```bash
git checkout <branch-name>
```

ç¤ºä¾‹ï¼š
```bash
git checkout main
```
**ä½œç”¨ï¼š** åˆ‡æ¢åˆ° `main` åˆ†æ”¯ã€‚

#### **ç”¨æ³• 2: æ¢å¤æ–‡ä»¶**
```bash
git checkout <commit-hash> -- <file>
```

ç¤ºä¾‹ï¼š
```bash
git checkout HEAD~1 -- README.md
```
**ä½œç”¨ï¼š** å°† `README.md` æ¢å¤åˆ°ä¸Šä¸€æ¬¡æäº¤çš„çŠ¶æ€ã€‚

---

### **4. `git rebase`**
`git rebase` æ˜¯ç”¨æ¥**é‡æ–°æ•´ç†åˆ†æ”¯æäº¤å†å²**çš„å‘½ä»¤ã€‚å®ƒä¼šå°†ä¸€ä¸ªåˆ†æ”¯çš„æäº¤â€œå¹³ç§»â€åˆ°å¦ä¸€ä¸ªåˆ†æ”¯çš„åé¢ã€‚

#### **ç”¨æ³•ï¼š**
```bash
git rebase <base-branch>
```

#### **ä½œç”¨ï¼š**
- å°†å½“å‰åˆ†æ”¯çš„æäº¤â€œç§»åŠ¨â€åˆ° `base-branch` åé¢ã€‚
- æäº¤å†å²ä¼šå˜å¾—æ›´ç›´çº¿åŒ–ï¼Œæ›´æ˜“è¯»ã€‚

#### **ç¤ºä¾‹ï¼š**

1. å½“å‰æœ‰ä»¥ä¸‹åˆ†æ”¯ç»“æ„ï¼š
   ```plaintext
   main
    â””â”€ A â”€ B â”€ C
                â””â”€â”€ feature
                  â””â”€ D â”€ E
   ```

2. åœ¨ `feature` åˆ†æ”¯è¿è¡Œï¼š
   ```bash
git rebase main
```

3. ç»“æœï¼š
   ```plaintext
   main
    â””â”€ A â”€ B â”€ C â”€ D' â”€ E'
   ```

#### **å¯¹æ¯” `git merge`ï¼š**
- `merge` ä¼šä¿ç•™æ‰€æœ‰æäº¤çš„å†å²ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªâ€œåˆå¹¶æäº¤â€ã€‚
- `rebase` ä¼šå°†æäº¤å†å²é‡æ–°æ’åˆ—ï¼Œæ›´å¹²å‡€ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´å†²çªã€‚

---

### **æ€»ç»“å¯¹æ¯”ï¼š**

| å‘½ä»¤             | ä½œç”¨                                                    | ç¤ºä¾‹                                                   |
|------------------|--------------------------------------------------------|-------------------------------------------------------|
| `-u`            | æ¨é€æ—¶å»ºç«‹åˆ†æ”¯ä¸è¿œç¨‹çš„è·Ÿè¸ªå…³ç³»                           | `git push -u origin dev`                              |
| `-b`            | åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯                                      | `git checkout -b feature`                            |
| `checkout`      | åˆ‡æ¢åˆ†æ”¯æˆ–æ¢å¤æ–‡ä»¶åˆ°æŸä¸ªç‰ˆæœ¬                             | `git checkout main` æˆ– `git checkout HEAD~1 file.txt` |
| `rebase`        | é‡æ–°æ•´ç†åˆ†æ”¯æäº¤å†å²ï¼Œå°†å½“å‰åˆ†æ”¯çš„æäº¤â€œå¹³ç§»â€åˆ°ç›®æ ‡åˆ†æ”¯å | `git rebase main`                                     |

è¿™äº›å‘½ä»¤å„æœ‰ç”¨é€”ï¼Œæ ¹æ®å…·ä½“çš„å¼€å‘åœºæ™¯é€‰æ‹©åˆé€‚çš„å‘½ä»¤ã€‚éœ€è¦è¿›ä¸€æ­¥çš„ç¤ºä¾‹æˆ–åº”ç”¨ï¼Œå¯ä»¥éšæ—¶å‘Šè¯‰æˆ‘ï¼ ğŸ˜Š




